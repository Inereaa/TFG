<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/ViajesDestacados.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/ViajesDestacados.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
import { useEffect, useState } from "react";
import TarjetaViaje from "./Viaje";

/**
 * Componente que carga y muestra los viajes destacados disponibles.
 * Filtra los viajes para mostrar solo aquellos cuyo inicio es a partir de mañana.
 * Muestra mensajes de carga, error o cuando no hay viajes disponibles.
 * 
 * @component
 * @returns {JSX.Element} Sección con tarjetas de viajes destacados.
 */
export default function ViajesDestacados() {
  const [viajes, setViajes] = useState([]);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetch("http://tripwme.work.gd:8080/api/viajes/destacados")
      .then(res => {
        if (!res.ok) throw new Error("Error al cargar viajes destacados");
        return res.json();
      })
      .then(data => setViajes(data))
      .catch(err => setError(err.message));
  }, []);

  if (error) return &lt;p className="text-red-600 text-center mt-4">{error}&lt;/p>;

  const fechaActual = new Date();

  const viajesFiltrados = viajes.filter(viaje => {
    const fechaInicio = new Date(viaje.fechaInicio);
    const diferenciaDias = Math.ceil((fechaInicio - fechaActual) / (1000 * 60 * 60 * 24));
    return diferenciaDias >= 1;
  });

  return (
    &lt;section className="xl:w-[44%] max-w-7xl mx-auto mt-10 px-4 flex flex-col gap-8">
      {viajes.length === 0 ? (
        &lt;p className="text-center col-span-3">Cargando viajes destacados...&lt;/p>
      ) : viajesFiltrados.length === 0 ? (
        &lt;p className="text-center col-span-3 px-6 py-1 rounded-full text-sm text-green-900">
          &lt;i>Actualmente no hay viajes disponibles...&lt;/i>
        &lt;/p>
      ) : (
        viajesFiltrados.map(viaje => &lt;TarjetaViaje key={viaje.id} viaje={viaje} />)
      )}
    &lt;/section>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jun 09 2025 18:09:13 GMT+0200 (hora de verano de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
